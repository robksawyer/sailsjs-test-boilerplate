Unit tests shouldn't lift the server (i.e. bind an HTTP server or WebSocket server to a port).

Instead, they should bootstrap the minimal set of necessary components to test a particular method (or sometimes a group of methods, if it makes more sense.) The goal is to identify future breaking changes and isolate exactly what broke. This makes would-be issues easier to spot in advance, and real bugs easier to track down after the fact.